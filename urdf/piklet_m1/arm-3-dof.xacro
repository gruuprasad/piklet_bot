<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

  <xacro:property name="M_PI" value="3.1415926535897931"/>

  <xacro:macro name="simple_arm" params="parent base_radius">
    <link name="shoulder_yaw_link">
      <inertial>
        <mass value="1e-6"/>
        <inertia ixx="1e-9" iyy="1e-9" izz="1e-9" ixy="0" ixz="0" iyz="0"/>
      </inertial>
    </link>
    <joint name="shoulder_yaw" type="revolute">
      <parent link="${parent}"/>
      <child link="shoulder_yaw_link"/>
      <origin xyz="0 0 -0.05" rpy="0 0 0"/>
      <axis xyz="0 0 1"/>
      <limit lower="-1.57" upper="1.57" effort="5" velocity="1"/>
    </joint>

    <link name="shoulder_pitch_link">
      <inertial>
        <mass value="1e-6"/>
        <inertia ixx="1e-9" iyy="1e-9" izz="1e-9" ixy="0" ixz="0" iyz="0"/>
      </inertial>
    </link>
    <joint name="shoulder_pitch" type="revolute">
      <parent link="shoulder_yaw_link"/>
      <child link="shoulder_pitch_link"/>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <axis xyz="0 1 0"/>
      <limit lower="-1.57" upper="1.57" effort="5" velocity="1"/>
    </joint>

    <link name="shoulder_roll_link">
      <inertial>
        <mass value="1e-6"/>
        <inertia ixx="1e-9" iyy="1e-9" izz="1e-9" ixy="0" ixz="0" iyz="0"/>
      </inertial>
    </link>
    <joint name="shoulder_roll" type="revolute">
      <parent link="shoulder_pitch_link"/>
      <child link="shoulder_roll_link"/>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <axis xyz="1 0 0"/>
      <limit lower="-1.57" upper="1.57" effort="5" velocity="1"/>
    </joint>

    <link name="arm_link1">
      <inertial>
        <mass value="0.4"/>
        <inertia ixx="5.06e-4" iyy="5.06e-4" izz="1.25e-4" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual>
        <geometry><cylinder radius="0.025" length="0.16"/></geometry>
        <origin xyz="0.08 0 0" rpy="0 ${M_PI/2} 0"/>
        <material name="green"/>
      </visual>
      <collision>
        <geometry><cylinder radius="0.025" length="0.16"/></geometry>
        <origin xyz="0.08 0 0" rpy="0 ${M_PI/2} 0"/>
      </collision>
    </link>

    <joint name="arm_link1_joint" type="fixed">
      <parent link="shoulder_roll_link"/>
      <child link="arm_link1"/>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </joint>

    <link name="arm_link2">
      <inertial>
        <mass value="0.25"/>
        <inertia ixx="5e-4" iyy="5e-4" izz="2e-4" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual>
        <geometry><cylinder radius="0.02" length="0.12"/></geometry>
        <origin xyz="0.06 0 0" rpy="0 ${M_PI/2} 0"/>
        <material name="yellow"/>
      </visual>
      <collision>
        <geometry><cylinder radius="0.02" length="0.12"/></geometry>
        <origin xyz="0.06 0 0" rpy="0 ${M_PI/2} 0"/>
      </collision>
    </link>

    <joint name="elbow_joint" type="revolute">
      <parent link="arm_link1"/>
      <child link="arm_link2"/>
      <origin xyz="0.16 0 0" rpy="0 0 0"/>
      <axis xyz="0 1 0"/>
      <limit lower="-1.57" upper="1.57" effort="5" velocity="1"/>
    </joint>

    <link name="arm_link_end">
      <inertial>
        <mass value="0.15"/>
        <inertia ixx="2e-4" iyy="2e-4" izz="1e-4" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual>
        <geometry><cylinder radius="0.015" length="0.08"/></geometry>
        <origin xyz="0.04 0 0" rpy="0 ${M_PI/2} 0"/>
        <material name="red"/>
      </visual>
      <collision>
        <geometry><cylinder radius="0.015" length="0.08"/></geometry>
        <origin xyz="0.04 0 0" rpy="0 ${M_PI/2} 0"/>
      </collision>
    </link>

    <joint name="wrist_joint" type="revolute">
      <parent link="arm_link2"/>
      <child link="arm_link_end"/>
      <origin xyz="0.12 0 0" rpy="0 0 0"/>
      <axis xyz="0 1 0"/>
      <limit lower="-1.57" upper="1.57" effort="5" velocity="1"/>
    </joint>

  </xacro:macro>
</robot>
