<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

  <xacro:macro name="simple_arm" params="parent base_radius">

    <link name="arm_base">
      <inertial>
        <mass value="0.3"/>
        <inertia ixx="5e-4" iyy="5e-4" izz="5e-4" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual>
        <geometry><cylinder radius="0.03" length="0.05"/></geometry>
        <origin xyz="0 0 0.025" rpy="0 0 0"/>
        <material name="blue"/>
      </visual>
      <collision>
        <geometry><cylinder radius="0.03" length="0.05"/></geometry>
        <origin xyz="0 0 0.025" rpy="0 0 0"/>
      </collision>
    </link>

    <joint name="arm_base_joint" type="fixed">
      <parent link="${parent}"/>
      <child link="arm_base"/>
      <origin xyz="0 ${base_radius} 0.02" rpy="0 0 0"/>
    </joint>

    <link name="arm_link1">
      <inertial>
        <mass value="0.4"/>
        <inertia ixx="5.06e-4" iyy="5.06e-4" izz="1.25e-4" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual>
        <geometry><cylinder radius="0.025" length="0.16"/></geometry>
        <origin xyz="0.06 0 0" rpy="0 ${M_PI/2} 0"/>
        <material name="green"/>
      </visual>
      <collision>
        <geometry><cylinder radius="0.025" length="0.16"/></geometry>
        <origin xyz="0.06 0 0" rpy="0 ${M_PI/2} 0"/>
      </collision>
    </link>

    <joint name="shoulder_joint" type="revolute">
      <parent link="arm_base"/>
      <child link="arm_link1"/>
      <origin xyz="0 0 0.025" rpy="0 0 0"/>
      <axis xyz="0 0 1"/>
      <limit lower="0" upper="${M_PI}" effort="5" velocity="1"/>
    </joint>

    <link name="arm_link2">
      <inertial>
        <mass value="0.25"/>
        <inertia ixx="5e-4" iyy="5e-4" izz="2e-4" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual>
        <geometry><cylinder radius="0.02" length="0.12"/></geometry>
        <origin xyz="0.06 0 0" rpy="0 ${M_PI/2} 0"/>
        <material name="yellow"/>
      </visual>
      <collision>
        <geometry><cylinder radius="0.02" length="0.12"/></geometry>
        <origin xyz="0.06 0 0" rpy="0 ${M_PI/2} 0"/>
      </collision>
    </link>

    <joint name="elbow_joint" type="revolute">
      <parent link="arm_link1"/>
      <child link="arm_link2"/>
      <origin xyz="0.16 0 0" rpy="0 0 0"/>
      <axis xyz="0 1 0"/>
      <limit lower="-1.57" upper="1.57" effort="5" velocity="1"/>
    </joint>

    <link name="arm_link3">
      <inertial>
        <mass value="0.15"/>
        <inertia ixx="2e-4" iyy="2e-4" izz="1e-4" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual>
        <geometry><cylinder radius="0.015" length="0.08"/></geometry>
        <origin xyz="0.04 0 0" rpy="0 ${M_PI/2} 0"/>
        <material name="red"/>
      </visual>
      <collision>
        <geometry><cylinder radius="0.015" length="0.08"/></geometry>
        <origin xyz="0.04 0 0" rpy="0 ${M_PI/2} 0"/>
      </collision>
    </link>

    <joint name="wrist_joint" type="revolute">
      <parent link="arm_link2"/>
      <child link="arm_link3"/>
      <origin xyz="0.12 0 0" rpy="0 0 0"/>
      <axis xyz="0 1 0"/>
      <limit lower="-1.57" upper="1.57" effort="5" velocity="1"/>
    </joint>

  </xacro:macro>
</robot>
